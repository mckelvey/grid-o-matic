(function(){"use strict";var e;e=function(){function e(){var e;e=this,$(".container, [data-align], [data-ratio]").each(function(){return e.$elements.push($(this))}),$(window).on("resize",{self:e},_.debounce(e.resize,100)),this.resize()}return e.prototype.mainGrid=72,e.prototype.subGrid=24,e.prototype.$elements=[],e.prototype.removeStyles=function(e,t){var i;return i=new RegExp("("+t.join("|")+"):[^;]+;","gi"),e.attr("style",function(e,t){return t?t.replace(i):void 0})},e.prototype.setTop=function(e,t,i){var n,o,r;return o=e.offset().top%t,0!==o?(r=parseFloat(e.css(""+i+"Top").replace(/[^-\d]/g,"")),n=r>t?r-o:r+(t-o),e.css(""+i+"Top",""+n+"px")):void 0},e.prototype.snapToGrid=function(e,t,i){var n;return null==i&&(i="margin"),this.removeStyles(e,[""+i+"-top","height"]),this.setTop(e,t,i),n=e.outerHeight()%t,0!==n?e.height(e.height()+(t-n)):void 0},e.prototype.resize=function(e){var t,i,n,o,r,a,s,l,d;for(r=null!=e&&null!=e.data?e.data.self:this,l=r.$elements,d=[],a=0,s=l.length;s>a;a++)if(t=l[a],i=t.attr("data-align"),o=t.attr("data-ratio"),t.hasClass("container")&&""!==i)r.removeStyles(t,["padding-top"]),d.push(r.setTop(t,"sub"===i?r.subGrid:r.mainGrid,"padding"));else if("main"===i?r.snapToGrid(t,r.mainGrid):"sub"===i&&r.snapToGrid(t,r.subGrid),void 0!==o&&""!==o){switch(t.hasClass("not-contained")!==!0&&t.addClass("contained"),o){case"golden":case"golden-vertical":case"golden vertical":n=1.618;break;case"golden-horizontal":case"golden horizontal":n=.618;break;case"square":n=1;break;default:n=null}null!=n?(r.removeStyles(t,["height"]),d.push(t.height(t.outerWidth()*n))):d.push(void 0)}else d.push(void 0);return d},e}(),$(function(){return window.gridOMatic=new e})}).call(this);